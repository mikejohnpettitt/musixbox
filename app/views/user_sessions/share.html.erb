<%# app/views/play_sessions/share.html.erb %>
<% content_for :meta_title, "result" %>
<% content_for :meta_description, "description" %>

<div class="share-container" data-controller="camera" data-card-url="<%= share_card_play_session_path(@user_session) %>">
  
  <%# ZONE CAMÃ‰RA %>
  <div class="camera-area">
    <video data-camera-target="video" autoplay playsinline style="display: none;"></video>
    <img data-camera-target="preview" alt="preview" style="display: none;">
  </div>

  <%# Canvas invisible %>
  <canvas data-camera-target="canvas" style="display: none;"></canvas>
  <input type="hidden" data-camera-target="photoInput" name="photo_data">

  <%# ZONE CARD %>
  <div class="card-wrapper" style="display: none;" data-camera-target="cardWrapper">
    <%= render "shared/card" %>
  </div>

  <%# BOUTONS - fixed en bas %>
  <div class="share-buttons">
    <button type="button" class="btn-brutal-orange" style="display: none;" data-action="click->camera#startCamera">
      ðŸ“· Start camera
    </button>
    
    <button type="button" class="btn-brutal-green" style="display: none;" data-action="click->camera#capturePhoto">
      ðŸ“¸ Take photo
    </button>
    
    <button type="button" class="btn-brutal-yellow" style="display: none;" data-action="click->camera#retakePhoto">
      ðŸ”„ Retake
    </button>
    
    <button type="button" class="btn-brutal-green" style="display: none;" data-action="click->camera#goToCard">
      âœ¨ See my card
    </button>
  </div>

</div>
