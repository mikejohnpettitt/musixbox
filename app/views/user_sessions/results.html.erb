<div class="bg-results position-relative overflow-hidden d-flex flex-column px-3 py-4">

  <div class="shape-1"></div>
  <div class="shape-2"></div>
  <div class="shape-3"></div>

  <!-- Title -->
  <header class="text-center mb-4 position-relative" style="z-index: 1;">
    <h1 class="page-title mb-0">Your Results</h1>
  </header>

  <!-- Score Card -->
  <div class="d-flex justify-content-center mb-4 position-relative" style="z-index: 1;">
    <div class="score-card">
      <div class="score-percentage"><%= @percentage %>%</div>
      <div class="score-text"><%= @score %> / <%= @max_score %></div>
    </div>
  </div>

  <!-- Trophy Card (if > 80%) -->
  <% if @percentage > 80 %>
    <div class="trophy-card mb-3 position-relative" style="z-index: 1;">
      <h3 class="trophy-title">ğŸ† Ace of <%= @playlist.title %> ğŸ†</h3>
      <% if @percentage == 100 %>
        <p class="trophy-perfect">Perfect score!</p>
      <% end %>
    </div>
  <% end %>

  <!-- Fastest Guess -->
  <% if @fastest_title %>
    <div class="fastest-card mb-4 position-relative" style="z-index: 1;">
      <div class="fastest-label">ğŸ¯ Fastest guess</div>
      <div class="fastest-time"><%= (@fastest_title.time_taken / 1000.0).round(2) %> sec</div>
      <% if @fastest_title.song %>
        <div class="fastest-song"><%= @fastest_title.song.title %></div>
      <% end %>
    </div>
  <% end %>

  <!-- Buttons -->
  <div class="mt-auto position-relative" style="z-index: 1;">
    <div class="d-flex gap-3">
      <%= link_to share_card_play_session_path(@user_session), class: "btn-share flex-grow-1" do %>
        Share results
      <% end %>
      <%= link_to play_session_results_share_path(@user_session), class: "btn-selfie flex-grow-1" do %>
        Add selfie
      <% end %>
    </div>
  </div>

</div>
